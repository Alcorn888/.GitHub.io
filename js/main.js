require.config({baseUrl:"vendor",paths:{jquery:"jquery/dist/jquery.min",backbone:"backbone/backbone",text:"text/text",underscore:"underscore/underscore",handlebars:"handlebars/handlebars",parallax:"parallax/deploy/parallax.min"},shim:{backbone:{deps:["underscore","jquery"]}}});var app,Handlebars;require(["handlebars","jquery","text","backbone","underscore","parallax"],function(e){Handlebars=e,Handlebars.registerHelper("math",function(e,t,a,r){return e=parseFloat(e),a=parseFloat(a),{"+":e+a,"-":e-a,"*":e*a,"/":e/a,"%":e%a,"==":e==a}[t]}),Handlebars.registerHelper("ifCond",function(e,t,a,r){switch(t){case"==":return e==a?r.fn(this):r.inverse(this);case"===":return e===a?r.fn(this):r.inverse(this);case"<":return a>e?r.fn(this):r.inverse(this);case"<=":return a>=e?r.fn(this):r.inverse(this);case">":return e>a?r.fn(this):r.inverse(this);case">=":return e>=a?r.fn(this):r.inverse(this);case"&&":return e&&a?r.fn(this):r.inverse(this);case"||":return e||a?r.fn(this):r.inverse(this);default:return r.inverse(this)}}),App=Backbone.View.extend({el:$("#app"),events:{"click a":"open"},open:function(e){e.preventDefault();var t=$(e.target).closest("a").attr("href");switch(t){case"#lessons":$("html,body").css("overflow-y","hidden"),Backbone.history.navigate("#lessons",{trigger:!0});break;case"#book/history":app.stopLine(),app.printBookPages("history"),app.breadcrumbsRender("Уроки Валентина Серова","Страницы русской истории"),app.goTop(),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#book/story":app.stopLine(),app.printBookPages("story"),app.breadcrumbsRender("Уроки Валентина Серова","Иллюстрации к басням"),app.goTop(),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#book/antiq":app.stopLine(),app.printBookPages("antiq"),app.breadcrumbsRender("Уроки Валентина Серова","Античные мотивы"),app.goTop(),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#video/antiq":app.stopLine(),app.printVideo("antiq"),app.goBottom(),app.breadcrumbsRender("Уроки Валентина Серова","Античные мотивы"),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#video/story":app.stopLine(),app.printVideo("story"),app.goBottom(),app.breadcrumbsRender("Уроки Валентина Серова","Иллюстрации к басням");break;case"#video/history":app.stopLine(),app.printVideo("history"),app.goBottom(),app.breadcrumbsRender("Уроки Валентина Серова","Страницы русской истории");break;case"#games/antiq":app.printMap("antiq"),app.printTestPages("antiq"),app.goBack(),app.testBreadcrumbsRender("Игра","Античные мотивы","antiq"),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#games/story":app.printMap("story"),app.printTestPages("story"),app.goBack(),app.testBreadcrumbsRender("Игра","Басни Крылова","story"),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#games/history":app.printMap("history"),app.printTestPages("history"),app.goBack(),app.testBreadcrumbsRender("Игра","Страницы русской истории","history"),Backbone.history.navigate(t,{trigger:!1,replace:!0});break;case"#goFront":app.goFront(),app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab()),Backbone.history.navigate("#lessons",{trigger:!1,replace:!0});break;case"#reset":app.trigger("Tests:Cleared"),Backbone.history.navigate("#lessons",{trigger:!0});break;case"#sound":app.audioSwictcher();break;case"#fromTestToVideo":app.goBottom();break;case"#getRevard-antiq":app.deactivateQuestion(this),app.checkImageProgress(),app.goFront(),app.breadcrumbsRender("Уроки Валентина Серова","Античные мотивы");break;case"#getRevard-story":app.deactivateQuestion(this),app.checkImageProgress(),app.goFront(),app.breadcrumbsRender("Уроки Валентина Серова","Иллюстрации к басням");break;case"#getRevard-history":app.deactivateQuestion(this),app.checkImageProgress(),app.goFront(),app.breadcrumbsRender("Уроки Валентина Серова","Страницы русской истории");break;case"www.tretyakovgallery.ru":window.open("http://www.tretyakovgallery.ru/","_blank")}},initialize:function(){var e=this;this.loadedModules=[],this.on("Display:Load",function(t){e.render()})},route:function(e,t){this.link=e,t?(this.loadModules(t),this.off("Module:Load").on("Module:Load",function(e){this.loadTemplate(this.link),console.log('Загрузка модуля(ей)"'+e+'" завершена'),console.log('Загрузка Экрана"'+this.link+'" началась')})):this.loadTemplate(e)},loadTemplate:function(e){var t=this;require(["../../template/displays/"+e+"/"+e,"text!../../template/displays/"+e+"/"+e+".html"],function(a,r){_.extend(t,a),t.html=$(r),t.loadCss(e,"display"),t.trigger("Display:Load",e)})},loadModules:function(e){var t=this;e.forEach(function(a,r){require(["../../template/modules/"+a+"/"+a,"text!../../template/modules/"+a+"/"+a+".html"],function(s,o){t[a+"Html"]=$(o),_.extend(t,s),t.loadCss(a,"module"),t.loadedModules.push(a),e.length-1===r&&t.trigger("Module:Load",e)})})},loadCss:function(e,t){var a="display"===t?"displays":"modules",r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href="../../template/"+a+"/"+e+"/"+e+".css",document.getElementsByTagName("head")[0].appendChild(r)},renderHandlebarsTemplate:function(e,t){var a=Handlebars.compile($(e).html());return a(t)}}),app=new App;var t=Backbone.Router.extend({routes:{"":"defaultRoute",lessons:"gallery","games/:test":"games","book/:name":"reader","video/:name":"video"}}),a=new t;a.on("route:defaultRoute",function(){app.route("mainScreen",["preloader"])}),a.on("route:gallery",function(){app.route("gallery",["preloader","accordion","redline","mainmenu","reader","transformer3D","maps","video","about","tests"]),setTimeout(function(){app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab())},200)}),a.on("route:games",function(){app.route("gallery",["preloader","accordion","redline","mainmenu","reader","transformer3D","maps","video","about","tests"]),setTimeout(function(){app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab())},200)}),a.on("route:reader",function(){app.route("gallery",["preloader","accordion","redline","mainmenu","reader","transformer3D","maps","video","about","tests"]),setTimeout(function(){app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab())},200)}),a.on("route:video",function(){app.route("gallery",["preloader","accordion","redline","mainmenu","reader","transformer3D","maps","video","about","tests"]),setTimeout(function(){app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab())},200)}),a.on("route:reset",function(){app.route("gallery",["preloader","accordion","redline","mainmenu","reader","transformer3D","maps","video","about","tests"]),setTimeout(function(){app.breadcrumbsRender("Уроки Валентина Серова",app.getActiveTab())},200)}),Backbone.history.start({pushState:!1}),function(e){e.backgroundVideo=function(t,a){var r={videoid:"video_background",autoplay:!1,loop:!1,preload:!0},s=this;s.settings={};var o=function(){s.settings=e.extend({},r,a),s.el=t,i()},i=function(){var t="",a="",r="",o="",i=s.settings.preload,p=s.settings.autoplay,d=s.settings.loop;a=i?'preload="false"':"",r=p?'autoplay="false"':"",o=d?'loop="false"':"",t+='<video id="'+s.settings.videoid+'"'+a+r+o,s.settings.poster&&(t+=' poster="'+s.settings.poster+'" '),t+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:2;width:100%;height:100%;">';for(var c=0;c<s.settings.types.length;c++)t+='<source src="'+s.settings.path+s.settings.filename+"."+s.settings.types[c]+'" type="video/'+s.settings.types[c]+'" />';t+="</video>",s.el.append(t),s.videoEl=document.getElementById(s.settings.videoid),s.$videoEl=e(s.videoEl),s.$videoEl.fadeIn(0),n()},n=function(){var e=p();s.$videoEl.width(e*s.settings.width),s.$videoEl.height(e*s.settings.height),"undefined"!=typeof s.settings.align&&d()},p=function(){var t=e(window).width(),a=e(window).height(),r=t/a,o=s.settings.width/s.settings.height,i=a/s.settings.height;return r>=o&&(i=t/s.settings.width),i},d=function(){var t=(e(window).width()>>1)-(s.$videoEl.width()>>1)|0,a=(e(window).height()>>1)-(s.$videoEl.height()>>1)|0;return"centerXY"==s.settings.align?void s.$videoEl.css({left:t,top:a}):"centerX"==s.settings.align?void s.$videoEl.css("left",t):"centerY"==s.settings.align?void s.$videoEl.css("top",a):void 0};o(),e(window).resize(function(){n()})}}($),function(e){var t={init:function(){e(window).resize(function(){e(document).setPoints("setProportion")})},setProportion:function(){if(e(".maps.active .responsive-image").length&&e(".maps.active .set-points").length){var t=e(".maps.active .responsive-image").css("backgroundImage").replace(/url\("|"\)/gi,""),a=new Image;a.onload=function(){var t=a.width,r=a.height,s=e(".maps.active .set-points").get(),o=e(".maps.active .responsive-image").get(),i=e(o).width(),n=e(o).height(),p=t/r,d=i/n;if(d>p){var c=parseInt(r*i/t);e(s).height(c).width("100%")}if(p>d){var l=parseInt(t*n/r);e(s).width(l).height("100%")}},a.src=t}}};e.fn.setPoints=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Метод с именем "+a+" не существует в setPoints"):t.init.apply(this,arguments)},e(document).setPoints("init")}($)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImJhc2VVcmwiLCJwYXRocyIsImpxdWVyeSIsImJhY2tib25lIiwidGV4dCIsInVuZGVyc2NvcmUiLCJoYW5kbGViYXJzIiwicGFyYWxsYXgiLCJzaGltIiwiZGVwcyIsImFwcCIsIkhhbmRsZWJhcnMiLCJyZWdpc3RlckhlbHBlciIsImx2YWx1ZSIsIm9wZXJhdG9yIiwicnZhbHVlIiwib3B0aW9ucyIsInBhcnNlRmxvYXQiLCIrIiwiLSIsIioiLCIvIiwiJSIsIj09IiwidjEiLCJ2MiIsImZuIiwidGhpcyIsImludmVyc2UiLCJBcHAiLCJCYWNrYm9uZSIsIlZpZXciLCJleHRlbmQiLCJlbCIsIiQiLCJldmVudHMiLCJjbGljayBhIiwib3BlbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInVybCIsInRhcmdldCIsImNsb3Nlc3QiLCJhdHRyIiwiY3NzIiwiaGlzdG9yeSIsIm5hdmlnYXRlIiwidHJpZ2dlciIsInN0b3BMaW5lIiwicHJpbnRCb29rUGFnZXMiLCJicmVhZGNydW1ic1JlbmRlciIsImdvVG9wIiwicmVwbGFjZSIsInByaW50VmlkZW8iLCJnb0JvdHRvbSIsInByaW50TWFwIiwicHJpbnRUZXN0UGFnZXMiLCJnb0JhY2siLCJ0ZXN0QnJlYWRjcnVtYnNSZW5kZXIiLCJnb0Zyb250IiwiZ2V0QWN0aXZlVGFiIiwiYXVkaW9Td2ljdGNoZXIiLCJkZWFjdGl2YXRlUXVlc3Rpb24iLCJjaGVja0ltYWdlUHJvZ3Jlc3MiLCJ3aW5kb3ciLCJpbml0aWFsaXplIiwic2VsZiIsImxvYWRlZE1vZHVsZXMiLCJvbiIsImRpc3BsYXlOYW1lIiwicmVuZGVyIiwicm91dGUiLCJsaW5rIiwibW9kdWxlc0xpc3QiLCJsb2FkTW9kdWxlcyIsIm9mZiIsIm1vZHVsZXMiLCJsb2FkVGVtcGxhdGUiLCJjb25zb2xlIiwibG9nIiwianMiLCJodG1sIiwiXyIsImxvYWRDc3MiLCJmb3JFYWNoIiwibW9kdWxlIiwiaSIsInB1c2giLCJsZW5ndGgiLCJtZCIsInBhcnRVcGwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwicmVsIiwiaHJlZiIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJIYW5kbGViYXJzVGVtcGxhdGUiLCJzZWxlY3RvciIsImRhdGEiLCJ0ZW1wbGF0ZSIsImNvbXBpbGUiLCJBcHBSb3V0ZXIiLCJSb3V0ZXIiLCJyb3V0ZXMiLCIiLCJsZXNzb25zIiwiZ2FtZXMvOnRlc3QiLCJib29rLzpuYW1lIiwidmlkZW8vOm5hbWUiLCJyb3V0ZXIiLCJzZXRUaW1lb3V0Iiwic3RhcnQiLCJwdXNoU3RhdGUiLCJiYWNrZ3JvdW5kVmlkZW8iLCJkZWZhdWx0cyIsInZpZGVvaWQiLCJhdXRvcGxheSIsImxvb3AiLCJwcmVsb2FkIiwicGx1Z2luIiwic2V0dGluZ3MiLCJpbml0IiwiYnVpbGRWaWRlbyIsInByZWxvYWRTdHJpbmciLCJhdXRvcGxheVN0cmluZyIsImxvb3BTdHJpbmciLCJfcHJlbG9hZCIsIl9hdXRvcGxheSIsIl9sb29wIiwicG9zdGVyIiwidHlwZXMiLCJwYXRoIiwiZmlsZW5hbWUiLCJhcHBlbmQiLCJ2aWRlb0VsIiwiZ2V0RWxlbWVudEJ5SWQiLCIkdmlkZW9FbCIsImZhZGVJbiIsInNldFByb3BvcnRpb24iLCJwcm9wb3J0aW9uIiwiZ2V0UHJvcG9ydGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYWxpZ24iLCJjZW50ZXJWaWRlbyIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0Iiwid2luZG93UHJvcG9ydGlvbiIsIm9yaWdQcm9wb3J0aW9uIiwiY2VudGVyWCIsImNlbnRlclkiLCJsZWZ0IiwidG9wIiwicmVzaXplIiwibWV0aG9kcyIsInNldFBvaW50cyIsImltZ1NyYyIsImltZyIsIkltYWdlIiwib25sb2FkIiwid2lkdGhJbWciLCJoZWlnaHRJbWciLCJjb250YWluZXJTZXQiLCJnZXQiLCJjb250YWluZXIiLCJ3aWR0aENvbnRhaW5lciIsImhlaWdodENvbnRhaW5lciIsImFzcGVjdHJhdGlvSW1hZ2UiLCJhc3BlY3RyYXRpb0NvbnRhaW5lciIsInJlc3VsdEhlaWdodCIsInBhcnNlSW50IiwicmVzdWx0V2lkdGgiLCJzcmMiLCJtZXRob2QiLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxRQUNQQyxRQUFTLFNBQ1RDLE9BQ0NDLE9BQVUseUJBQ1ZDLFNBQVksb0JBQ1pDLEtBQVEsWUFDUkMsV0FBYyx3QkFDZEMsV0FBYyx3QkFDZEMsU0FBWSxnQ0FFYkMsTUFDQ0wsVUFDQ00sTUFBTyxhQUFjLGFBS3hCLElBQUlDLEtBQ0hDLFVBQ0RiLFVBQ0MsYUFDQSxTQUNBLE9BQ0EsV0FDQSxhQUNBLFlBQ0UsU0FBU1EsR0FDWEssV0FBYUwsRUFFYkssV0FBV0MsZUFBZSxPQUFRLFNBQVNDLEVBQVFDLEVBQVVDLEVBQVFDLEdBSWpFLE1BSEFILEdBQVNJLFdBQVdKLEdBQ3BCRSxFQUFTRSxXQUFXRixJQUdoQkcsSUFBS0wsRUFBU0UsRUFDZEksSUFBS04sRUFBU0UsRUFDZEssSUFBS1AsRUFBU0UsRUFDZE0sSUFBS1IsRUFBU0UsRUFDZE8sSUFBS1QsRUFBU0UsRUFDZFEsS0FBTVYsR0FBVUUsR0FDbEJELEtBRU5ILFdBQVdDLGVBQWUsU0FBVSxTQUFVWSxFQUFJVixFQUFVVyxFQUFJVCxHQUU1RCxPQUFRRixHQUNKLElBQUssS0FDRCxNQUFRVSxJQUFNQyxFQUFNVCxFQUFRVSxHQUFHQyxNQUFRWCxFQUFRWSxRQUFRRCxLQUMzRCxLQUFLLE1BQ0QsTUFBUUgsS0FBT0MsRUFBTVQsRUFBUVUsR0FBR0MsTUFBUVgsRUFBUVksUUFBUUQsS0FDNUQsS0FBSyxJQUNELE1BQWFGLEdBQUxELEVBQVdSLEVBQVFVLEdBQUdDLE1BQVFYLEVBQVFZLFFBQVFELEtBQzFELEtBQUssS0FDRCxNQUFjRixJQUFORCxFQUFZUixFQUFRVSxH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R0FBUzVILEVBQUUsa0NBQWtDVSxJQUFJLG1CQUFtQlEsUUFBUSxlQUFlLElBQzNGMkcsRUFBTSxHQUFJQyxNQUNkRCxHQUFJRSxPQUFTLFdBQ1osR0FBSUMsR0FBV0gsRUFBSWhCLE1BQ2ZvQixFQUFZSixFQUFJZixPQUNoQm9CLEVBQWVsSSxFQUFFLDRCQUE0Qm1JLE1BQzdDQyxFQUFZcEksRUFBRSxrQ0FBa0NtSSxNQUNoREUsRUFBaUJySSxFQUFFb0ksR0FBV3ZCLFFBQzlCeUIsRUFBa0J0SSxFQUFFb0ksR0FBV3RCLFNBQy9CeUIsRUFBbUJQLEVBQVNDLEVBQzVCTyxFQUF1QkgsRUFBZUMsQ0FDMUMsSUFBSUUsRUFBdUJELEVBQWtCLENBQzVDLEdBQUlFLEdBQWVDLFNBQVVULEVBQVlJLEVBQWdCTCxFQUN6RGhJLEdBQUVrSSxHQUFjcEIsT0FBTzJCLEdBQWM1QixNQUFNLFFBRzVDLEdBQTJCMEIsRUFBdkJDLEVBQXlDLENBQzVDLEdBQUlHLEdBQWNELFNBQVVWLEVBQVdNLEVBQWlCTCxFQUN4RGpJLEdBQUVrSSxHQUFjckIsTUFBTThCLEdBQWE3QixPQUFPLFVBSTVDZSxFQUFJZSxJQUFNaEIsSUFLYjVILEdBQUVSLEdBQUdtSSxVQUFZLFNBQVNrQixHQUV6QixNQUFJbkIsR0FBUW1CLEdBQ0puQixFQUFTbUIsR0FBU0MsTUFBT3JKLEtBQU1zSixNQUFNQyxVQUFVQyxNQUFNQyxLQUFNQyxVQUFXLElBQ2hELGdCQUFYTixJQUF5QkEsTUFHM0M3SSxHQUFFb0osTUFBTyxrQkFBcUJQLEVBQVMsOEJBRmhDbkIsRUFBUWpDLEtBQUtxRCxNQUFPckosS0FBTTBKLFlBTW5DbkosRUFBRXlELFVBQVVrRSxVQUFVLFNBRXBCM0giLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUuY29uZmlnKHtcclxuXHRiYXNlVXJsOiAndmVuZG9yJyxcclxuXHRwYXRoczoge1xyXG5cdFx0J2pxdWVyeSc6ICdqcXVlcnkvZGlzdC9qcXVlcnkubWluJyxcclxuXHRcdCdiYWNrYm9uZSc6ICdiYWNrYm9uZS9iYWNrYm9uZScsXHJcblx0XHQndGV4dCc6ICd0ZXh0L3RleHQnLFxyXG5cdFx0J3VuZGVyc2NvcmUnOiAndW5kZXJzY29yZS91bmRlcnNjb3JlJyxcclxuXHRcdCdoYW5kbGViYXJzJzogJ2hhbmRsZWJhcnMvaGFuZGxlYmFycycsXHJcblx0XHQncGFyYWxsYXgnOiAncGFyYWxsYXgvZGVwbG95L3BhcmFsbGF4Lm1pbidcclxuXHR9LFxyXG5cdHNoaW06IHtcclxuXHRcdCdiYWNrYm9uZSc6IHtcclxuXHRcdFx0ZGVwczogWyd1bmRlcnNjb3JlJywgJ2pxdWVyeSddXHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbnZhciBhcHAsXHJcblx0SGFuZGxlYmFycztcclxucmVxdWlyZShbXHJcblx0J2hhbmRsZWJhcnMnLFxyXG5cdCdqcXVlcnknLFxyXG5cdCd0ZXh0JyxcclxuXHQnYmFja2JvbmUnLFxyXG5cdCd1bmRlcnNjb3JlJyxcclxuXHRcInBhcmFsbGF4XCJcclxuXSwgZnVuY3Rpb24oaGFuZGxlYmFycykge1xyXG5cdEhhbmRsZWJhcnMgPSBoYW5kbGViYXJzO1xyXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tIEhhbmRsZWJhcnMgSGVscGVycy0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblx0SGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcIm1hdGhcIiwgZnVuY3Rpb24obHZhbHVlLCBvcGVyYXRvciwgcnZhbHVlLCBvcHRpb25zKSB7XHJcblx0ICAgIGx2YWx1ZSA9IHBhcnNlRmxvYXQobHZhbHVlKTtcclxuXHQgICAgcnZhbHVlID0gcGFyc2VGbG9hdChydmFsdWUpO1xyXG5cdCAgICAgICAgXHJcblx0ICAgIHJldHVybiB7XHJcblx0ICAgICAgICBcIitcIjogbHZhbHVlICsgcnZhbHVlLFxyXG5cdCAgICAgICAgXCItXCI6IGx2YWx1ZSAtIHJ2YWx1ZSxcclxuXHQgICAgICAgIFwiKlwiOiBsdmFsdWUgKiBydmFsdWUsXHJcblx0ICAgICAgICBcIi9cIjogbHZhbHVlIC8gcnZhbHVlLFxyXG5cdCAgICAgICAgXCIlXCI6IGx2YWx1ZSAlIHJ2YWx1ZSxcclxuXHQgICAgICAgIFwiPT1cIjogbHZhbHVlID09IHJ2YWx1ZVxyXG5cdCAgICB9W29wZXJhdG9yXTtcclxuXHR9KTtcclxuXHRIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZkNvbmQnLCBmdW5jdGlvbiAodjEsIG9wZXJhdG9yLCB2Miwgb3B0aW9ucykge1xyXG5cdFxyXG5cdCAgICBzd2l0Y2ggKG9wZXJhdG9yKSB7XHJcblx0ICAgICAgICBjYXNlICc9PSc6XHJcblx0ICAgICAgICAgICAgcmV0dXJuICh2MSA9PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cdCAgICAgICAgY2FzZSAnPT09JzpcclxuXHQgICAgICAgICAgICByZXR1cm4gKHYxID09PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cdCAgICAgICAgY2FzZSAnPCc6XHJcblx0ICAgICAgICAgICAgcmV0dXJuICh2MSA8IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblx0ICAgICAgICBjYXNlICc8PSc6XHJcblx0ICAgICAgICAgICAgcmV0dXJuICh2MSA8PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cdCAgICAgICAgY2FzZSAnPic6XHJcblx0ICAgICAgICAgICAgcmV0dXJuICh2MSA+IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblx0ICAgICAgICBjYXNlICc+PSc6XHJcblx0ICAgICAgICAgICAgcmV0dXJuICh2MSA+PSB2MikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG5cdCAgICAgICAgY2FzZSAnJiYnOlxyXG5cdCAgICAgICAgICAgIHJldHVybiAodjEgJiYgdjIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuXHQgICAgICAgIGNhc2UgJ3x8JzpcclxuXHQgICAgICAgICAgICByZXR1cm4gKHYxIHx8IHYyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblx0ICAgICAgICBkZWZhdWx0OlxyXG5cdCAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcblx0ICAgIH1cclxuXHR9KTtcclxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLSBBcHAgLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHRBcHAgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XHJcblx0XHRlbDogJCgnI2FwcCcpLFxyXG5cdFx0ZXZlbnRzOiB7XHJcblx0ICAgIFwiY2xpY2sgYVwiOlwib3BlblwiXHJcblx0ICB9LFxyXG5cdCAgb3BlbjogZnVuY3Rpb24oZSl7XHJcblx0ICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcclxuXHRcdFx0dmFyIHVybCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoXCJhXCIpLmF0dHIoXCJocmVmXCIpO1xyXG5cdFxyXG5cdFx0XHRzd2l0Y2ggKHVybCl7XHJcblx0XHRcdFx0Y2FzZSBcIiNsZXNzb25zXCI6XHJcblx0XHRcdFx0XHQkKFwiaHRtbCxib2R5XCIpLmNzcyhcIm92ZXJmbG93LXlcIixcImhpZGRlblwiKTtcclxuXHRcdFx0XHRcdEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUoXCIjbGVzc29uc1wiLCB7dHJpZ2dlcjp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2Jvb2svaGlzdG9yeVwiOlxyXG5cdFx0XHRcdFx0YXBwLnN0b3BMaW5lKCk7XHJcblx0XHRcdFx0XHRhcHAucHJpbnRCb29rUGFnZXMoXCJoaXN0b3J5XCIpO1xyXG5cdFx0XHRcdFx0YXBwLmJyZWFkY3J1bWJzUmVuZGVyKFwi0KPRgNC+0LrQuCDQktCw0LvQtdC90YLQuNC90LAg0KHQtdGA0L7QstCwXCIsXCLQodGC0YDQsNC90LjRhtGLINGA0YPRgdGB0LrQvtC5INC40YHRgtC+0YDQuNC4XCIpO1xyXG5cdFx0XHRcdFx0YXBwLmdvVG9wKCk7XHJcblx0XHRcdFx0XHRCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKHVybCwge3RyaWdnZXI6ZmFsc2UscmVwbGFjZTp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2Jvb2svc3RvcnlcIjpcclxuXHRcdFx0XHRcdGFwcC5zdG9wTGluZSgpO1xyXG5cdFx0XHRcdFx0YXBwLnByaW50Qm9va1BhZ2VzKFwic3RvcnlcIik7XHJcblx0XHRcdFx0XHRhcHAuYnJlYWRjcnVtYnNSZW5kZXIoXCLQo9GA0L7QutC4INCS0LDQu9C10L3RgtC40L3QsCDQodC10YDQvtCy0LBcIixcItCY0LvQu9GO0YHRgtGA0LDRhtC40Lgg0Log0LHQsNGB0L3Rj9C8XCIpO1xyXG5cdFx0XHRcdFx0YXBwLmdvVG9wKCk7XHJcblx0XHRcdFx0XHRCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKHVybCwge3RyaWdnZXI6ZmFsc2UscmVwbGFjZTp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2Jvb2svYW50aXFcIjpcclxuXHRcdFx0XHRcdGFwcC5zdG9wTGluZSgpO1xyXG5cdFx0XHRcdFx0YXBwLnByaW50Qm9va1BhZ2VzKFwiYW50aXFcIik7XHJcblx0XHRcdFx0XHRhcHAuYnJlYWRjcnVtYnNSZW5kZXIoXCLQo9GA0L7QutC4INCS0LDQu9C10L3RgtC40L3QsCDQodC10YDQvtCy0LBcIixcItCQ0L3RgtC40YfQvdGL0LUg0LzQvtGC0LjQstGLXCIpO1xyXG5cdFx0XHRcdFx0YXBwLmdvVG9wKCk7XHJcblx0XHRcdFx0XHRCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKHVybCwge3RyaWdnZXI6ZmFsc2UscmVwbGFjZTp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI3ZpZGVvL2FudGlxXCI6XHJcblx0XHRcdFx0ICAgIGFwcC5zdG9wTGluZSgpO1xyXG5cdFx0XHRcdCAgICBhcHAucHJpbnRWaWRlbyhcImFudGlxXCIpO1xyXG5cdFx0XHRcdCAgICBhcHAuZ29Cb3R0b20oKTtcclxuXHRcdFx0XHQgICAgYXBwLmJyZWFkY3J1bWJzUmVuZGVyKFwi0KPRgNC+0LrQuCDQktCw0LvQtdC90YLQuNC90LAg0KHQtdGA0L7QstCwXCIsXCLQkNC90YLQuNGH0L3Ri9C1INC80L7RgtC40LLRi1wiKTtcclxuXHRcdFx0XHRcdEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUodXJsLCB7dHJpZ2dlcjpmYWxzZSxyZXBsYWNlOnRydWV9KTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCIjdmlkZW8vc3RvcnlcIjpcclxuXHRcdFx0XHRcdGFwcC5zdG9wTGluZSgpO1xyXG5cdFx0XHRcdFx0YXBwLnByaW50VmlkZW8oXCJzdG9yeVwiKTtcclxuXHRcdFx0XHRcdGFwcC5nb0JvdHRvbSgpO1xyXG5cdFx0XHRcdFx0YXBwLmJyZWFkY3J1bWJzUmVuZGVyKFwi0KPRgNC+0LrQuCDQktCw0LvQtdC90YLQuNC90LAg0KHQtdGA0L7QstCwXCIsXCLQmNC70LvRjtGB0YLRgNCw0YbQuNC4INC6INCx0LDRgdC90Y/QvFwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFxyXG5cdFx0XHRcdGNhc2UgXCIjdmlkZW8vaGlzdG9yeVwiOlxyXG5cdFx0XHRcdFx0YXBwLnN0b3BMaW5lKCk7XHJcblx0XHRcdFx0XHRhcHAucHJpbnRWaWRlbyhcImhpc3RvcnlcIik7XHJcblx0XHRcdFx0XHRhcHAuZ29Cb3R0b20oKTtcclxuXHRcdFx0XHRcdGFwcC5icmVhZGNydW1ic1JlbmRlcihcItCj0YDQvtC60Lgg0JLQsNC70LXQvdGC0LjQvdCwINCh0LXRgNC+0LLQsFwiLFwi0KHRgtGA0LDQvdC40YbRiyDRgNGD0YHRgdC60L7QuSDQuNGB0YLQvtGA0LjQuFwiKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFxyXG5cdFx0XHRcdGNhc2UgXCIjZ2FtZXMvYW50aXFcIjpcclxuXHRcdFx0XHRcdGFwcC5wcmludE1hcChcImFudGlxXCIpO1xyXG5cdFx0XHRcdFx0YXBwLnByaW50VGVzdFBhZ2VzKFwiYW50aXFcIik7XHJcblx0XHRcdFx0IFx0YXBwLmdvQmFjaygpO1xyXG5cdFx0ICAgICBcdFx0YXBwLnRlc3RCcmVhZGNydW1ic1JlbmRlcihcItCY0LPRgNCwXCIsXCLQkNC90YLQuNGH0L3Ri9C1INC80L7RgtC40LLRi1wiLFwiYW50aXFcIik7XHJcblx0XHRcdFx0XHRCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKHVybCwge3RyaWdnZXI6ZmFsc2UscmVwbGFjZTp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2dhbWVzL3N0b3J5XCI6XHJcblx0XHRcdFx0XHRhcHAucHJpbnRNYXAoXCJzdG9yeVwiKTtcclxuXHRcdFx0XHRcdGFwcC5wcmludFRlc3RQYWdlcyhcInN0b3J5XCIpO1xyXG5cdFx0XHRcdCAgICBhcHAuZ29CYWNrKCk7XHJcblx0XHQgICAgICBcdFx0YXBwLnRlc3RCcmVhZGNydW1ic1JlbmRlcihcItCY0LPRgNCwXCIsXCLQkdCw0YHQvdC4INCa0YDRi9C70L7QstCwXCIsXCJzdG9yeVwiKTtcclxuXHRcdFx0XHRcdEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUodXJsLCB7dHJpZ2dlcjpmYWxzZSxyZXBsYWNlOnRydWV9KTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFxyXG5cdFx0XHRcdGNhc2UgXCIjZ2FtZXMvaGlzdG9yeVwiOlxyXG5cdFx0XHRcdFx0YXBwLnByaW50TWFwKFwiaGlzdG9yeVwiKTtcclxuXHRcdFx0XHRcdGFwcC5wcmludFRlc3RQYWdlcyhcImhpc3RvcnlcIik7XHJcblx0XHRcdFx0ICAgIGFwcC5nb0JhY2soKTtcclxuXHRcdCAgICAgIFx0XHRhcHAudGVzdEJyZWFkY3J1bWJzUmVuZGVyKFwi0JjQs9GA0LBcIixcItCh0YLRgNCw0L3QuNGG0Ysg0YDRg9GB0YHQutC+0Lkg0LjRgdGC0L7RgNC40LhcIixcImhpc3RvcnlcIik7XHJcblx0XHRcdFx0XHRCYWNrYm9uZS5oaXN0b3J5Lm5hdmlnYXRlKHVybCwge3RyaWdnZXI6ZmFsc2UscmVwbGFjZTp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2dvRnJvbnRcIjpcclxuXHRcdFx0XHRcdGFwcC5nb0Zyb250KCk7XHJcblx0XHRcdFx0XHRhcHAuYnJlYWRjcnVtYnNSZW5kZXIoXCLQo9GA0L7QutC4INCS0LDQu9C10L3RgtC40L3QsCDQodC10YDQvtCy0LBcIixhcHAuZ2V0QWN0aXZlVGFiKCkpO1xyXG5cdFx0XHRcdFx0QmFja2JvbmUuaGlzdG9yeS5uYXZpZ2F0ZShcIiNsZXNzb25zXCIsIHt0cmlnZ2VyOmZhbHNlLHJlcGxhY2U6dHJ1ZX0pO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHJcblx0XHRcdFx0Y2FzZSBcIiNyZXNldFwiOlxyXG5cdFx0XHRcdFx0YXBwLnRyaWdnZXIoJ1Rlc3RzOkNsZWFyZWQnKTtcclxuXHRcdFx0XHRcdEJhY2tib25lLmhpc3RvcnkubmF2aWdhdGUoXCIjbGVzc29uc1wiLCB7dHJpZ2dlcjp0cnVlfSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI3NvdW5kXCI6XHJcblx0XHRcdFx0XHRhcHAuYXVkaW9Td2ljdGNoZXIoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFxyXG5cdFx0XHRcdGNhc2UgXCIjZnJvbVRlc3RUb1ZpZGVvXCI6XHJcblx0XHRcdFx0XHRhcHAuZ29Cb3R0b20oKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFxyXG5cdFx0XHRcdGNhc2UgXCIjZ2V0UmV2YXJkLWFudGlxXCI6XHJcblx0XHRcdFx0XHRhcHAuZGVhY3RpdmF0ZVF1ZXN0aW9uKHRoaXMpO1xyXG5cdFx0XHRcdFx0YXBwLmNoZWNrSW1hZ2VQcm9ncmVzcygpO1xyXG5cdFx0XHRcdFx0YXBwLmdvRnJvbnQoKTtcclxuXHRcdFx0XHRcdGFwcC5icmVhZGNydW1ic1JlbmRlcihcItCj0YDQvtC60Lgg0JLQsNC70LXQvdGC0LjQvdCwINCh0LXRgNC+0LLQsFwiLFwi0JDQvdGC0LjRh9C90YvQtSDQvNC+0YLQuNCy0YtcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcclxuXHRcdFx0XHRjYXNlIFwiI2dldFJldmFyZC1zdG9yeVwiOlxyXG5cdFx0XHRcdFx0YXBwLmRlYWN0aXZhdGVRdWVzdGlvbih0aGlzKTtcclxuXHRcdFx0XHRcdGFwcC5jaGVja0ltYWdlUHJvZ3Jlc3MoKTtcclxuXHRcdFx0XHRcdGFwcC5nb0Zyb250KCk7XHJcblx0XHRcdFx0XHRhcHAuYnJlYWRjcnVtYnNSZW5kZXIoXCLQo9GA0L7QutC4INCS0LDQu9C10L3RgtC40L3QsCDQodC10YDQvtCy0LBcIixcItCY0LvQu9GO0YHRgtGA0LDRhtC40Lgg0Log0LHQsNGB0L3Rj9C8XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHJcblx0XHRcdFx0Y2FzZSBcIiNnZXRSZXZhcmQtaGlzdG9yeVwiOlxyXG5cdFx0XHRcdFx0YXBwLmRlYWN0aXZhdGVRdWVzdGlvbih0aGlzKTtcclxuXHRcdFx0XHRcdGFwcC5jaGVja0ltYWdlUHJvZ3Jlc3MoKTtcclxuXHRcdFx0XHRcdGFwcC5nb0Zyb250KCk7XHJcblx0XHRcdFx0XHRhcHAuYnJlYWRjcnVtYnNSZW5kZXIoXCLQo9GA0L7QutC4INCS0LDQu9C10L3RgtC40L3QsCDQodC10YDQvtCy0LBcIixcItCh0YLRgNCw0L3QuNGG0Ysg0YDRg9GB0YHQutC+0Lkg0LjRgdGC0L7RgNC40LhcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIFwid3d3LnRyZXR5YWtvdmdhbGxlcnkucnVcIjpcclxuXHRcdFx0XHRcdHdpbmRvdy5vcGVuKCdodHRwOi8vd3d3LnRyZXR5YWtvdmdhbGxlcnkucnUvJywgJ19ibGFuaycpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHQgIH0sXHJcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHR0aGlzLmxvYWRlZE1vZHVsZXMgPSBbXTtcclxuXHRcclxuXHRcdFx0dGhpcy5vbignRGlzcGxheTpMb2FkJywgZnVuY3Rpb24oZGlzcGxheU5hbWUpIHtcclxuXHRcdFx0XHRzZWxmLnJlbmRlcigpO1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ9Cg0LXQvdC00LXRgCDRjdC60YDQsNC90LAgXCInICsgZGlzcGxheU5hbWUgKyAnXCIg0LfQsNCy0LXRgNGI0LXQvScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZygn0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0L/RgNC40LvQvtC20LXQvdC40Y8g0LfQsNCy0LXRgNGI0LXQvdCwJyk7XHJcblx0XHR9LFxyXG5cdFxyXG5cdFx0cm91dGU6IGZ1bmN0aW9uKGxpbmssIG1vZHVsZXNMaXN0KXtcclxuXHRcdFx0Ly9jb25zb2xlLmxvZyhcItCX0LDQv9GD0YHQutCw0LXQvCBSb3V0ZSDQuiBcIiwgbGluaywgXCIgYyDQvNC+0LTRg9C70Y/QvNC4IFwiLG1vZHVsZXNMaXN0KVxyXG5cdFx0XHR0aGlzLmxpbmsgPSBsaW5rO1xyXG5cdFxyXG5cdFx0XHQvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0L/QvtC00LrQu9GO0YfQsNC10LzRi9GFINC80L7QtNGD0LvQtdC5LCDQtdGB0LvQuCDQuNGFINC90LXRgiDQt9Cw0LPRgNGD0LbQsNC10Lwg0YLQvtC70YzQutC+INGI0LDQsdC70L7QvVxyXG5cdFx0XHRpZiAoIW1vZHVsZXNMaXN0KXtcclxuXHRcdFx0XHR0aGlzLmxvYWRUZW1wbGF0ZShsaW5rKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyDQndCw0YjQu9C4INC80L7QtNGD0LvRjCwg0LjQu9C4INC80L7QtNGD0LvQuC4g0JfQsNC/0YPRgdC60LDQtdC8INC40YUg0LfQsNCz0YDRg9C30LrRgyDQsiDQutC+0L3RgtC10LrRgdGCINC/0YDQuNC70L7QttC10L3QuNGPLlxyXG5cdFx0XHRcdHRoaXMubG9hZE1vZHVsZXMobW9kdWxlc0xpc3QpO1xyXG5cdFx0XHRcdC8vINCc0L7QtNGD0LvRjCDQuNC70Lgg0LzQvtC00YPQu9C4INC30LDQs9GA0YPQttC10L3Riy4g0J3QsNGH0LjQvdCw0LXQvCDQt9Cw0LPRgNGD0LfQutGDINGI0LDQsdC70L7QvdCwLlxyXG5cdFx0XHRcdHRoaXMub2ZmKCdNb2R1bGU6TG9hZCcpLm9uKCdNb2R1bGU6TG9hZCcsIGZ1bmN0aW9uKG1vZHVsZXMpIHtcclxuXHRcdFx0XHRcdHRoaXMubG9hZFRlbXBsYXRlKHRoaXMubGluayk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn0JfQsNCz0YDRg9C30LrQsCDQvNC+0LTRg9C70Y8o0LXQuSlcIicgKyBtb2R1bGVzICsgJ1wiINC30LDQstC10YDRiNC10L3QsCcpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ9CX0LDQs9GA0YPQt9C60LAg0K3QutGA0LDQvdCwXCInICsgdGhpcy5saW5rICsgJ1wiINC90LDRh9Cw0LvQsNGB0YwnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcclxuXHRcdGxvYWRUZW1wbGF0ZTogZnVuY3Rpb24oZGlzcGxheU5hbWUpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRyZXF1aXJlKFtcclxuXHRcdFx0XHQnLi4vLi4vdGVtcGxhdGUvZGlzcGxheXMvJyArIGRpc3BsYXlOYW1lICsgJy8nICsgZGlzcGxheU5hbWUsXHJcblx0XHRcdFx0J3RleHQhLi4vLi4vdGVtcGxhdGUvZGlzcGxheXMvJyArIGRpc3BsYXlOYW1lICsgJy8nICsgZGlzcGxheU5hbWUgKyAnLmh0bWwnLFxyXG5cdFx0XHRdLCBmdW5jdGlvbihqcywgaHRtbCkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ9Ct0LrRgNCw0L0gXCInICsgZGlzcGxheU5hbWUgKyAnXCIg0LfQsNCz0YDRg9C20LXQvScpO1xyXG5cdFx0XHRcdF8uZXh0ZW5kKHNlbGYsIGpzKTtcclxuXHRcdFx0XHRzZWxmLmh0bWwgPSAkKGh0bWwpO1xyXG5cdFx0XHRcdHNlbGYubG9hZENzcyhkaXNwbGF5TmFtZSwgJ2Rpc3BsYXknKTtcclxuXHRcdFx0XHRzZWxmLnRyaWdnZXIoJ0Rpc3BsYXk6TG9hZCcsIGRpc3BsYXlOYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFxyXG5cdFx0bG9hZE1vZHVsZXM6IGZ1bmN0aW9uKG1vZHVsZXNMaXN0KSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0Ly/Ql9Cw0LPRgNGD0LbQsNC10Lwg0LzQvtC00YPQu9C4LlxyXG5cdFx0XHRtb2R1bGVzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKG1vZHVsZSwgaSl7XHJcblx0XHRcdFx0Ly8gaWYgKCFfLmluY2x1ZGUoc2VsZi5sb2FkZWRNb2R1bGVzLCBtb2R1bGUpKSB7XHJcblx0XHRcdFx0XHRyZXF1aXJlKFtcclxuXHRcdFx0XHRcdFx0Jy4uLy4uL3RlbXBsYXRlL21vZHVsZXMvJyArIG1vZHVsZSArICcvJyArIG1vZHVsZSAsXHJcblx0XHRcdFx0XHRcdCd0ZXh0IS4uLy4uL3RlbXBsYXRlL21vZHVsZXMvJyArIG1vZHVsZSArICcvJyArIG1vZHVsZSArICcuaHRtbCdcclxuXHRcdFx0XHRcdF0sIGZ1bmN0aW9uKGpzLCBodG1sKSB7XHJcblx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ9Cc0L7QtNGD0LvRjCBcIicgKyBtb2R1bGUgKyAnXCIg0LfQsNCz0YDRg9C20LXQvScpO1xyXG5cdFx0XHRcdFx0XHRzZWxmW21vZHVsZSArICdIdG1sJ10gPSAkKGh0bWwpO1xyXG5cdFx0XHRcdFx0XHRfLmV4dGVuZChzZWxmLCBqcyk7XHJcblx0XHRcdFx0XHRcdHNlbGYubG9hZENzcyhtb2R1bGUsICdtb2R1bGUnKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5sb2FkZWRNb2R1bGVzLnB1c2gobW9kdWxlKTtcclxuXHRcdFx0XHRcdFx0aWYoKG1vZHVsZXNMaXN0Lmxlbmd0aCAtIDEpID09PSBpKXtcclxuXHRcdFx0XHRcdFx0XHRzZWxmLnRyaWdnZXIoJ01vZHVsZTpMb2FkJywgbW9kdWxlc0xpc3QpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyB9ZWxzZSBpZiAobW9kdWxlc0xpc3QubGVuZ3RoIC0gMSA9PSBpKXtcclxuXHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKCdtb2R1bGVzTGlzdC5sZW5ndGgnLCBtb2R1bGVzTGlzdC5sZW5ndGgpXHJcblx0XHRcdFx0Ly8gXHRzZWxmLnRyaWdnZXIoJ01vZHVsZTpMb2FkJywgbW9kdWxlc0xpc3QpO1xyXG5cdFx0XHRcdC8vIH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cdFxyXG5cdFx0bG9hZENzczogZnVuY3Rpb24obW9kdWxlLCBtZCkge1xyXG5cdFx0XHR2YXIgcGFydFVwbCA9IG1kID09PSAnZGlzcGxheScgPyAnZGlzcGxheXMnIDogJ21vZHVsZXMnO1xyXG5cdFx0XHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG5cdFx0XHRsaW5rLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRcdGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0XHRcdGxpbmsuaHJlZiA9ICcuLi8uLi90ZW1wbGF0ZS8nICsgcGFydFVwbCArICcvJyArIG1vZHVsZSArICcvJyArIG1vZHVsZSArICcuY3NzJztcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGxpbmspO1xyXG5cdFx0fSxcclxuXHRcclxuXHRcdHJlbmRlckhhbmRsZWJhcnNUZW1wbGF0ZTogZnVuY3Rpb24oc2VsZWN0b3IsZGF0YSkge1xyXG5cdFx0XHQvL2NvbnNvbGUubG9nKCfQodC+0LfQtNCw0LXQvCDRiNCw0LHQu9C+0L0gSGFuZGxlYmFycycsIHNlbGVjdG9yLCBkYXRhKTtcclxuXHRcclxuXHRcdFx0dmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCQoc2VsZWN0b3IpLmh0bWwoKSk7XHJcblx0XHRcdHJldHVybiB0ZW1wbGF0ZShkYXRhKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRhcHAgPSBuZXcgQXBwKCk7XHJcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0gUm91dGVyIC0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblx0dmFyIEFwcFJvdXRlciA9IEJhY2tib25lLlJvdXRlci5leHRlbmQoe1xyXG5cdCAgICByb3V0ZXM6IHtcclxuXHQgICAgICAgIFwiXCI6IFwiZGVmYXVsdFJvdXRlXCIsXHJcblx0ICAgICAgICBcImxlc3NvbnNcIjpcImdhbGxlcnlcIixcclxuXHQgICAgICAgIFwiZ2FtZXMvOnRlc3RcIjpcImdhbWVzXCIsXHJcblx0ICAgICAgICBcImJvb2svOm5hbWVcIjpcInJlYWRlclwiLFxyXG5cdCAgICAgICAgXCJ2aWRlby86bmFtZVwiOlwidmlkZW9cIlxyXG5cdCAgICAgICAgLy8gbWF0Y2hlcyBodHRwOi8vZXhhbXBsZS5jb20vI2FueXRoaW5nLWhlcmVcclxuXHQgICAgfVxyXG5cdH0pO1xyXG5cdC8vIEluaXRpYXRlIHRoZSByb3V0ZXJcclxuXHR2YXIgcm91dGVyID0gbmV3IEFwcFJvdXRlcjtcclxuXHRcclxuXHRyb3V0ZXIub24oJ3JvdXRlOmRlZmF1bHRSb3V0ZScsIGZ1bmN0aW9uKCkge1xyXG5cdCAgICBhcHAucm91dGUoJ21haW5TY3JlZW4nLCBbJ3ByZWxvYWRlciddKTtcclxuXHR9KVxyXG5cdFxyXG5cdHJvdXRlci5vbigncm91dGU6Z2FsbGVyeScsIGZ1bmN0aW9uKCkge1xyXG5cdCAgICBhcHAucm91dGUoJ2dhbGxlcnknLCBbJ3ByZWxvYWRlcicsJ2FjY29yZGlvbicsICdyZWRsaW5lJywgJ21haW5tZW51JywncmVhZGVyJywgJ3RyYW5zZm9ybWVyM0QnLCdtYXBzJywndmlkZW8nLCdhYm91dCcsJ3Rlc3RzJ10pO1xyXG5cdFxyXG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0ICAgICAgYXBwLmJyZWFkY3J1bWJzUmVuZGVyKFwi0KPRgNC+0LrQuCDQktCw0LvQtdC90YLQuNC90LAg0KHQtdGA0L7QstCwXCIsYXBwLmdldEFjdGl2ZVRhYigpKTtcclxuXHQgICAgfSwyMDApO1xyXG5cdH0pXHJcblx0XHJcblx0cm91dGVyLm9uKCdyb3V0ZTpnYW1lcycsIGZ1bmN0aW9uKCkge1xyXG5cdCAgICBhcHAucm91dGUoJ2dhbGxlcnknLCBbJ3ByZWxvYWRlcicsJ2FjY29yZGlvbicsICdyZWRsaW5lJywgJ21haW5tZW51JywncmVhZGVyJywgJ3RyYW5zZm9ybWVyM0QnLCdtYXBzJywndmlkZW8nLCdhYm91dCcsJ3Rlc3RzJ10pO1xyXG5cdFxyXG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0ICAgICAgYXBwLmJyZWFkY3J1bWJzUmVuZGVyKFwi0KPRgNC+0LrQuCDQktCw0LvQtdC90YLQuNC90LAg0KHQtdGA0L7QstCwXCIsYXBwLmdldEFjdGl2ZVRhYigpKTtcclxuXHQgICAgfSwyMDApO1xyXG5cdH0pXHJcblx0XHJcblx0cm91dGVyLm9uKCdyb3V0ZTpyZWFkZXInLCBmdW5jdGlvbigpIHtcclxuXHQgICAgYXBwLnJvdXRlKCdnYWxsZXJ5JywgWydwcmVsb2FkZXInLCdhY2NvcmRpb24nLCAncmVkbGluZScsICdtYWlubWVudScsJ3JlYWRlcicsICd0cmFuc2Zvcm1lcjNEJywnbWFwcycsJ3ZpZGVvJywnYWJvdXQnLCd0ZXN0cyddKTtcclxuXHRcclxuXHQgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdCAgICAgIGFwcC5icmVhZGNydW1ic1JlbmRlcihcItCj0YDQvtC60Lgg0JLQsNC70LXQvdGC0LjQvdCwINCh0LXRgNC+0LLQsFwiLGFwcC5nZXRBY3RpdmVUYWIoKSk7XHJcblx0ICAgIH0sMjAwKTtcclxuXHR9KVxyXG5cdFxyXG5cdHJvdXRlci5vbigncm91dGU6dmlkZW8nLCBmdW5jdGlvbigpIHtcclxuXHQgICAgYXBwLnJvdXRlKCdnYWxsZXJ5JywgWydwcmVsb2FkZXInLCdhY2NvcmRpb24nLCAncmVkbGluZScsICdtYWlubWVudScsJ3JlYWRlcicsICd0cmFuc2Zvcm1lcjNEJywnbWFwcycsJ3ZpZGVvJywnYWJvdXQnLCd0ZXN0cyddKTtcclxuXHRcclxuXHQgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdCAgICAgIGFwcC5icmVhZGNydW1ic1JlbmRlcihcItCj0YDQvtC60Lgg0JLQsNC70LXQvdGC0LjQvdCwINCh0LXRgNC+0LLQsFwiLGFwcC5nZXRBY3RpdmVUYWIoKSk7XHJcblx0ICAgIH0sMjAwKTtcclxuXHR9KVxyXG5cdFxyXG5cdHJvdXRlci5vbigncm91dGU6cmVzZXQnLCBmdW5jdGlvbigpIHtcclxuXHQgICAgYXBwLnJvdXRlKCdnYWxsZXJ5JywgWydwcmVsb2FkZXInLCdhY2NvcmRpb24nLCAncmVkbGluZScsICdtYWlubWVudScsJ3JlYWRlcicsICd0cmFuc2Zvcm1lcjNEJywnbWFwcycsJ3ZpZGVvJywnYWJvdXQnLCd0ZXN0cyddKTtcclxuXHRcclxuXHQgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdCAgICAgIGFwcC5icmVhZGNydW1ic1JlbmRlcihcItCj0YDQvtC60Lgg0JLQsNC70LXQvdGC0LjQvdCwINCh0LXRgNC+0LLQsFwiLGFwcC5nZXRBY3RpdmVUYWIoKSk7XHJcblx0ICAgIH0sMjAwKTtcclxuXHR9KVxyXG5cdFxyXG5cdC8vIFN0YXJ0IEJhY2tib25lIGhpc3RvcnkgYSBuZWNlc3Nhcnkgc3RlcCBmb3IgYm9va21hcmthYmxlIFVSTCdzXHJcblx0QmFja2JvbmUuaGlzdG9yeS5zdGFydCh7cHVzaFN0YXRlIDogZmFsc2V9KTtcclxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLSBSb3V0ZXIgLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHQvKlxyXG5cdCogalF1ZXJ5IEJhY2tncm91bmQgdmlkZW8gcGx1Z2luIGZvciBqUXVlcnlcclxuXHQqIC0tLVxyXG5cdCogQ29weXJpZ2h0IDIwMTEsIFZpY3RvciBDb3Vsb24gKGh0dHA6Ly92aWN0b3Jjb3Vsb24uZnIpXHJcblx0KiBSZWxlYXNlZCB1bmRlciB0aGUgTUlULCBCU0QsIGFuZCBHUEwgTGljZW5zZXMuXHJcblx0KiBiYXNlZCBvbiBqUXVlcnkgUGx1Z2luIEJvaWxlcnBsYXRlIDEuM1xyXG5cdCovXHJcblx0KGZ1bmN0aW9uKCQpIHtcclxuXHRcclxuXHQgICQuYmFja2dyb3VuZFZpZGVvID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcclxuXHRcclxuXHQgICAgdmFyIGRlZmF1bHRzID0ge1xyXG5cdCAgICAgIHZpZGVvaWQ6IFwidmlkZW9fYmFja2dyb3VuZFwiLFxyXG5cdCAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuXHQgICAgICBsb29wOiBmYWxzZSxcclxuXHQgICAgICBwcmVsb2FkOiB0cnVlXHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIHBsdWdpbiA9IHRoaXM7XHJcblx0XHJcblx0ICAgIHBsdWdpbi5zZXR0aW5ncyA9IHt9XHJcblx0XHJcblx0ICAgIHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XHJcblx0ICAgICAgcGx1Z2luLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHQgICAgICBwbHVnaW4uZWwgPSBlbDtcclxuXHRcclxuXHQgICAgICBidWlsZFZpZGVvKCk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIGJ1aWxkVmlkZW8gPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgdmFyIGh0bWwgPSAnJyxcclxuXHQgICAgICAgICAgcHJlbG9hZFN0cmluZyA9ICcnLFxyXG5cdCAgICAgICAgICBhdXRvcGxheVN0cmluZyA9ICcnLFxyXG5cdCAgICAgICAgICBsb29wU3RyaW5nID0gJycsXHJcblx0ICAgICAgICAgIF9wcmVsb2FkID0gcGx1Z2luLnNldHRpbmdzLnByZWxvYWQsXHJcblx0ICAgICAgICAgIF9hdXRvcGxheSA9IHBsdWdpbi5zZXR0aW5ncy5hdXRvcGxheSxcclxuXHQgICAgICAgICAgX2xvb3AgPSBwbHVnaW4uc2V0dGluZ3MubG9vcDtcclxuXHRcclxuXHQgICAgICBpZiAoX3ByZWxvYWQpIHtcclxuXHQgICAgICAgIHByZWxvYWRTdHJpbmcgPSAncHJlbG9hZD1cImZhbHNlXCInO1xyXG5cdCAgICAgIH0gZWxzZSB7XHJcblx0ICAgICAgICBwcmVsb2FkU3RyaW5nID0gJyc7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGlmIChfYXV0b3BsYXkpIHtcclxuXHQgICAgICAgIGF1dG9wbGF5U3RyaW5nID0gJ2F1dG9wbGF5PVwiZmFsc2VcIic7XHJcblx0ICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIGF1dG9wbGF5U3RyaW5nID0gJyc7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGlmIChfbG9vcCkge1xyXG5cdCAgICAgICAgbG9vcFN0cmluZyA9ICdsb29wPVwiZmFsc2VcIic7XHJcblx0ICAgICAgfSBlbHNlIHtcclxuXHQgICAgICAgIGxvb3BTdHJpbmcgPSAnJztcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgaHRtbCArPSAnPHZpZGVvIGlkPVwiJytwbHVnaW4uc2V0dGluZ3MudmlkZW9pZCsnXCInICsgcHJlbG9hZFN0cmluZyArIGF1dG9wbGF5U3RyaW5nICsgbG9vcFN0cmluZztcclxuXHRcclxuXHQgICAgICBpZiAocGx1Z2luLnNldHRpbmdzLnBvc3Rlcikge1xyXG5cdCAgICAgICAgaHRtbCArPSAnIHBvc3Rlcj1cIicgKyBwbHVnaW4uc2V0dGluZ3MucG9zdGVyICsgJ1wiICc7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIGh0bWwgKz0gJ3N0eWxlPVwiZGlzcGxheTpub25lO3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtib3R0b206MDtyaWdodDowO3otaW5kZXg6Mjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO1wiPic7XHJcblx0ICAgICAgZm9yKHZhciBpPTA7IGkgPCBwbHVnaW4uc2V0dGluZ3MudHlwZXMubGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICAgIGh0bWwgKz0gJzxzb3VyY2Ugc3JjPVwiJytwbHVnaW4uc2V0dGluZ3MucGF0aCtwbHVnaW4uc2V0dGluZ3MuZmlsZW5hbWUrJy4nK3BsdWdpbi5zZXR0aW5ncy50eXBlc1tpXSsnXCIgdHlwZT1cInZpZGVvLycrcGx1Z2luLnNldHRpbmdzLnR5cGVzW2ldKydcIiAvPic7XHJcblx0ICAgICAgfVxyXG5cdCAgICAgIGh0bWwgKz0gJzwvdmlkZW8+JztcclxuXHQgICAgICBwbHVnaW4uZWwuYXBwZW5kKGh0bWwpO1xyXG5cdCAgICAgIHBsdWdpbi52aWRlb0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGx1Z2luLnNldHRpbmdzLnZpZGVvaWQpO1xyXG5cdCAgICAgIHBsdWdpbi4kdmlkZW9FbCA9ICQocGx1Z2luLnZpZGVvRWwpO1xyXG5cdCAgICAgIHBsdWdpbi4kdmlkZW9FbC5mYWRlSW4oMCk7XHJcblx0ICAgICAgc2V0UHJvcG9ydGlvbigpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciBzZXRQcm9wb3J0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHZhciBwcm9wb3J0aW9uID0gZ2V0UHJvcG9ydGlvbigpO1xyXG5cdCAgICAgIHBsdWdpbi4kdmlkZW9FbC53aWR0aChwcm9wb3J0aW9uKnBsdWdpbi5zZXR0aW5ncy53aWR0aCk7XHJcblx0ICAgICAgcGx1Z2luLiR2aWRlb0VsLmhlaWdodChwcm9wb3J0aW9uKnBsdWdpbi5zZXR0aW5ncy5oZWlnaHQpO1xyXG5cdFxyXG5cdCAgICAgIGlmICh0eXBlb2YgcGx1Z2luLnNldHRpbmdzLmFsaWduICE9PSAndW5kZWZpbmVkJykge1xyXG5cdCAgICAgICAgY2VudGVyVmlkZW8oKTtcclxuXHQgICAgICB9XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgdmFyIGdldFByb3BvcnRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgdmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0ICAgICAgdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHQgICAgICB2YXIgd2luZG93UHJvcG9ydGlvbiA9IHdpbmRvd1dpZHRoIC8gd2luZG93SGVpZ2h0O1xyXG5cdCAgICAgIHZhciBvcmlnUHJvcG9ydGlvbiA9IHBsdWdpbi5zZXR0aW5ncy53aWR0aCAvIHBsdWdpbi5zZXR0aW5ncy5oZWlnaHQ7XHJcblx0ICAgICAgdmFyIHByb3BvcnRpb24gPSB3aW5kb3dIZWlnaHQgLyBwbHVnaW4uc2V0dGluZ3MuaGVpZ2h0O1xyXG5cdFxyXG5cdCAgICAgIGlmICh3aW5kb3dQcm9wb3J0aW9uID49IG9yaWdQcm9wb3J0aW9uKSB7XHJcblx0ICAgICAgICBwcm9wb3J0aW9uID0gd2luZG93V2lkdGggLyBwbHVnaW4uc2V0dGluZ3Mud2lkdGg7XHJcblx0ICAgICAgfVxyXG5cdFxyXG5cdCAgICAgIHJldHVybiBwcm9wb3J0aW9uO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIHZhciBjZW50ZXJWaWRlbyA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAgIHZhciBjZW50ZXJYID0gKCgkKHdpbmRvdykud2lkdGgoKSA+PiAxKSAtIChwbHVnaW4uJHZpZGVvRWwud2lkdGgoKSA+PiAxKSkgfCAwO1xyXG5cdCAgICAgIHZhciBjZW50ZXJZID0gKCgkKHdpbmRvdykuaGVpZ2h0KCkgPj4gMSkgLSAocGx1Z2luLiR2aWRlb0VsLmhlaWdodCgpID4+IDEpKSB8IDA7XHJcblx0XHJcblx0ICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5hbGlnbiA9PSAnY2VudGVyWFknKSB7XHJcblx0ICAgICAgICBwbHVnaW4uJHZpZGVvRWwuY3NzKHsgJ2xlZnQnOiBjZW50ZXJYLCAndG9wJzogY2VudGVyWSB9KTtcclxuXHQgICAgICAgIHJldHVybjtcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5hbGlnbiA9PSAnY2VudGVyWCcpIHtcclxuXHQgICAgICAgIHBsdWdpbi4kdmlkZW9FbC5jc3MoJ2xlZnQnLCBjZW50ZXJYKTtcclxuXHQgICAgICAgIHJldHVybjtcclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5hbGlnbiA9PSAnY2VudGVyWScpIHtcclxuXHQgICAgICAgIHBsdWdpbi4kdmlkZW9FbC5jc3MoJ3RvcCcsIGNlbnRlclkpO1xyXG5cdCAgICAgICAgcmV0dXJuO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBpbml0KCk7XHJcblx0XHJcblx0ICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7IHNldFByb3BvcnRpb24oKTsgfSk7XHJcblx0ICB9XHJcblx0fSkoJCk7XHJcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0gU2V0UG9pbnRzIC0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblx0LypcclxuXHQqINCc0LDRgdGI0YLQsNCx0LjRgNGD0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LrQvtC90YLQtdC50L3QtdGAINGE0L7QvdC+0LLQvtCz0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQv9C+0LQg0YTQsNC60YLQuNGH0LXRgdC60LjQtSDRgNCw0LfQvNC10YDRiyDRhNC+0L3QsFxyXG5cdCogJChkb2N1bWVudCkuc2V0UG9pbnRzKCdpbml0Jyk7IC8vINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPXHJcblx0KiAkKGRvY3VtZW50KS5zZXRQb2ludHMoJ3NldFByb3BvcnRpb24nKTsgLy8g0LLRi9C30L7QsiDQvNC10YLQvtC00LAg0L/QtdGA0LXRgdGC0YDQvtC10L3QuNGPINC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuXHQqL1xyXG5cdChmdW5jdGlvbigkKSB7XHJcblx0XHRcclxuXHRcdHZhciBtZXRob2RzID0ge1xyXG5cdFx0XHRpbml0IDogZnVuY3Rpb24oKSB7IFxyXG5cdFx0XHRcdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7ICQoZG9jdW1lbnQpLnNldFBvaW50cygnc2V0UHJvcG9ydGlvbicpOyB9KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0UHJvcG9ydGlvbiA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICgkKCcubWFwcy5hY3RpdmUgLnJlc3BvbnNpdmUtaW1hZ2UnKS5sZW5ndGggJiYgJCgnLm1hcHMuYWN0aXZlIC5zZXQtcG9pbnRzJykubGVuZ3RoKSB7IC8vINC10YHQu9C4INC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQvdC+0LLQsNGPINC80L7QtNC10LvRjCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvdC40Y8g0LjQt9C+0LHRgNCw0LbQtdC90LjQuSDQuCDQtdGB0YLRjCDRgtC+0YfQutC4LCDQt9C90LDRh9C40YIg0L3Rg9C20L3QviDRhNC40LrRgdC40YLRjFxyXG5cdFx0XHRcdFx0dmFyIGltZ1NyYyA9ICQoJy5tYXBzLmFjdGl2ZSAucmVzcG9uc2l2ZS1pbWFnZScpLmNzcygnYmFja2dyb3VuZEltYWdlJykucmVwbGFjZSgvdXJsXFwoXCJ8XCJcXCkvaWcsJycpO1xyXG5cdFx0XHRcdFx0dmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG5cdFx0XHRcdFx0aW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgd2lkdGhJbWcgPSBpbWcud2lkdGg7XHJcblx0XHRcdFx0XHRcdHZhciBoZWlnaHRJbWcgPSBpbWcuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHR2YXIgY29udGFpbmVyU2V0ID0gJCgnLm1hcHMuYWN0aXZlIC5zZXQtcG9pbnRzJykuZ2V0KCk7XHJcblx0XHRcdFx0XHRcdHZhciBjb250YWluZXIgPSAkKCcubWFwcy5hY3RpdmUgLnJlc3BvbnNpdmUtaW1hZ2UnKS5nZXQoKTtcclxuXHRcdFx0XHRcdFx0dmFyIHdpZHRoQ29udGFpbmVyID0gJChjb250YWluZXIpLndpZHRoKCk7XHJcblx0XHRcdFx0XHRcdHZhciBoZWlnaHRDb250YWluZXIgPSAkKGNvbnRhaW5lcikuaGVpZ2h0KCk7XHJcblx0XHRcdFx0XHRcdHZhciBhc3BlY3RyYXRpb0ltYWdlID0gd2lkdGhJbWcvaGVpZ2h0SW1nO1xyXG5cdFx0XHRcdFx0XHR2YXIgYXNwZWN0cmF0aW9Db250YWluZXIgPSB3aWR0aENvbnRhaW5lci9oZWlnaHRDb250YWluZXI7XHJcblx0XHRcdFx0XHRcdGlmIChhc3BlY3RyYXRpb0NvbnRhaW5lciA+IGFzcGVjdHJhdGlvSW1hZ2UpIHsgLy8g0L3QtdGF0LLQsNGC0LrQsCDQstGL0YHQvtGC0YtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmVzdWx0SGVpZ2h0ID0gcGFyc2VJbnQoKGhlaWdodEltZyAqIHdpZHRoQ29udGFpbmVyKS93aWR0aEltZyk7XHJcblx0XHRcdFx0XHRcdFx0JChjb250YWluZXJTZXQpLmhlaWdodChyZXN1bHRIZWlnaHQpLndpZHRoKCcxMDAlJyk7XHJcblx0XHRcdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygncmVzdWx0SGVpZ2h0IC0gJyArIHJlc3VsdEhlaWdodCArICc7IHdpZHRoSW1nIC0gJyArIHdpZHRoSW1nICsgJzsgaGVpZ2h0SW1nIC0gJyArIGhlaWdodEltZyArICc7IHdpZHRoQ29udGFpbmVyIC0gJyArIHdpZHRoQ29udGFpbmVyICsgJzsgaGVpZ2h0Q29udGFpbmVyIC0gJyArIGhlaWdodENvbnRhaW5lcik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGFzcGVjdHJhdGlvQ29udGFpbmVyIDwgYXNwZWN0cmF0aW9JbWFnZSkgeyAgLy8g0L3QtdGF0LLQsNGC0LrQsCDRiNC40YDQuNC90YtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcmVzdWx0V2lkdGggPSBwYXJzZUludCgod2lkdGhJbWcgKiBoZWlnaHRDb250YWluZXIpL2hlaWdodEltZyk7XHJcblx0XHRcdFx0XHRcdFx0JChjb250YWluZXJTZXQpLndpZHRoKHJlc3VsdFdpZHRoKS5oZWlnaHQoJzEwMCUnKTtcclxuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCdyZXN1bHRXaWR0aCAtICcgKyByZXN1bHRXaWR0aCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGltZy5zcmMgPSBpbWdTcmM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQkLmZuLnNldFBvaW50cyA9IGZ1bmN0aW9uKG1ldGhvZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKG1ldGhvZHNbbWV0aG9kXSkge1xyXG5cdFx0XHRcdHJldHVybiBtZXRob2RzWyBtZXRob2QgXS5hcHBseSggdGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApKTtcclxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgISBtZXRob2QgKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5lcnJvciggJ9Cc0LXRgtC+0LQg0YEg0LjQvNC10L3QtdC8ICcgKyAgbWV0aG9kICsgJyDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCINCyIHNldFBvaW50cycgKTtcclxuXHRcdFx0fSBcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0JChkb2N1bWVudCkuc2V0UG9pbnRzKCdpbml0Jyk7XHJcblx0XHRcclxuXHR9KSgkKTtcclxuXHRcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
